"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{3366:(H,g,e)=>{e.d(g,{G:()=>m});var d=e(7643),n=e(1360);let m=(()=>{var p;class u{constructor(t){this.http=t,this.apiHcred="https://lojas.hcred.com.br/API/",this.apiLocal="https://hcred.rpvtecnologia.com.br/API/",this.options={headers:new d.Lr({"Content-Type":"application/json; charset=UTF-8"}),responseType:"json"}}buscaBanks(t){return this.http.post(`${this.apiHcred}selectBanks.php`,JSON.stringify(t),this.options)}buscaContas(t){return this.http.post(`${this.apiHcred}listarConta.php`,JSON.stringify(t),this.options)}buscaContasAll(t){return this.http.post(`${this.apiHcred}listarContaAll.php`,JSON.stringify(t),this.options)}buscaGerente(t){return this.http.post(`${this.apiHcred}listarGerente.php`,JSON.stringify(t),this.options)}buscaColab(t){return this.http.post(`${this.apiHcred}listarColab.php`,JSON.stringify(t),this.options)}buscaPropsAll(t){return this.http.post(`${this.apiHcred}selectPropsAll.php`,JSON.stringify(t),this.options)}buscaPropsFilter(t){return this.http.post(`${this.apiHcred}selectPropsFilter.php`,JSON.stringify(t),this.options)}buscaPropsProv(t){return this.http.post(`${this.apiHcred}selectProps.php`,JSON.stringify(t),this.options)}buscaPropsRelatorios(t){return this.http.post(`${this.apiHcred}listarRelatorios.php`,JSON.stringify(t),this.options)}buscaPropsStatus(t){return this.http.post(`${this.apiHcred}listarPropsStatus.php`,JSON.stringify(t),this.options)}buscaTabelas(t){return this.http.post(`${this.apiHcred}selectTabela.php`,JSON.stringify(t),this.options)}buscaTipo(t){return this.http.post(`${this.apiHcred}selectTipo.php`,JSON.stringify(t),this.options)}cadPropsView(t){return this.http.post(`${this.apiHcred}cad_propsView.php`,JSON.stringify(t),this.options)}cadProposta(t){return this.http.post(`${this.apiHcred}cadProposta.php`,JSON.stringify(t),this.options)}consultaCPF(t){return this.http.post(`${this.apiHcred}consultaCPF.php`,JSON.stringify(t),this.options)}countProps(t){return this.http.post(`${this.apiHcred}countProps.php`,JSON.stringify(t),this.options)}criaCards(t){return this.http.post(`${this.apiHcred}selectTabelaCartao.php`,JSON.stringify(t),this.options)}criaParcelas(t){return this.http.post(`${this.apiHcred}criarParcelas.php`,JSON.stringify(t),this.options)}deletePropsView(t){return this.http.post(`${this.apiHcred}delete_propsView.php`,JSON.stringify(t),this.options)}enviarDadosAlteracao(t){return this.http.post(`${this.apiHcred}alterarProposta.php`,JSON.stringify(t),this.options)}gerarLink(t){return this.http.post(`${this.apiHcred}cad_session.php`,JSON.stringify(t),this.options)}listarContrato(t){return this.http.post(`${this.apiHcred}listarContrato.php`,JSON.stringify(t),this.options)}listarOperadoras(t){return this.http.post(`${this.apiHcred}listarOperadoras.php`,JSON.stringify(t),this.options)}listarSaldo(t){return this.http.post(`${this.apiHcred}listarSaldo.php`,JSON.stringify(t),this.options)}loginApp(t){return this.http.post(`${this.apiHcred}logar.php`,JSON.stringify(t),this.options)}sacar(t){return this.http.post(`${this.apiHcred}sacar.php`,JSON.stringify(t),this.options)}S3Upload(t){return this.http.post(`${this.apiHcred}S3Upload.php`,t)}validarBoleto(t){return this.http.post(`${this.apiHcred}validarBoleto.php`,JSON.stringify(t),this.options)}verificarPropsView(t){return this.http.post(`${this.apiHcred}verificarPropsView.php`,JSON.stringify(t),this.options)}}return(p=u).\u0275fac=function(t){return new(t||p)(n.KVO(d.Qq))},p.\u0275prov=n.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),u})()},5075:(H,g,e)=>{e.r(g),e.d(g,{HomePageModule:()=>L});var d=e(2881),n=e(9420),m=e(4341),p=e(5207),u=e(467),f=e(6480),t=e(1360),P=e(5032),y=e(3366);function b(s,a){if(1&s){const h=t.RV6();t.j41(0,"ion-button",9),t.bIt("click",function(){t.eBV(h);const i=t.XpG();return t.Njj(i.loginApp())}),t.EFF(1,"Acessar"),t.k0s()}}function O(s,a){1&s&&(t.j41(0,"ion-button",10),t.nrm(1,"img",11),t.k0s())}const v=[{path:"",component:(()=>{var s;class a{constructor(o,i,c){this.navCtrl=o,this.alertController=i,this.apiService=c,this.login={},this.resultadoLogin={},this.isLoading=!1,localStorage.getItem("idLogado")?this.apiService.listarSaldo({auth_hash:f.k,idUser:localStorage.getItem("idLogado"),idFranqueado:localStorage.getItem("idFranqueado")}).subscribe({next:r=>{"erro"===r.estatus?this.alert(r.mensagem):(localStorage.setItem("saldoLoja",r.dados.saldoDisponivel),localStorage.setItem("saldoBlockLoja",r.dados.saldoBloqueado),this.navCtrl.navigateForward("index")),this.isLoading=!1},error:()=>{this.alert("Erro ao buscar dados da conta."),this.isLoading=!1}}):localStorage.clear()}loginApp(){var o=this;return(0,u.A)(function*(){var c;o.isLoading=!0,o.apiService.loginApp({auth_hash:f.k,version:f.h,user_access:o.login.usuario,password_access:o.login.senha}).subscribe({next:(c=(0,u.A)(function*(r){if(o.resultadoLogin=r,"erro"===o.resultadoLogin.estatus)return o.alert(o.resultadoLogin.mensagem),void(o.isLoading=!1);Object.entries(o.resultadoLogin.dados).forEach(([l,S])=>{"senhaAcesso"!==l&&localStorage.setItem(l,null!=S?String(S):"")}),localStorage.setItem("senhaAcesso",yield o.hashSenha(o.resultadoLogin.dados.senhaAcesso)),o.apiService.listarSaldo({auth_hash:f.k,idUser:o.resultadoLogin.dados.idLogado,idFranqueado:o.resultadoLogin.dados.idFranqueado}).subscribe({next:l=>{"erro"===l.estatus?o.alert(l.mensagem):(localStorage.setItem("saldoLoja",l.dados.saldoDisponivel),localStorage.setItem("saldoBlockLoja",l.dados.saldoBloqueado),o.navCtrl.navigateForward("index")),o.isLoading=!1},error:()=>{o.alert("Erro ao buscar dados da conta."),o.isLoading=!1}})}),function(l){return c.apply(this,arguments)}),error:()=>{o.alert("Erro na conex\xe3o com o servidor."),o.isLoading=!1}})})()}hashSenha(o){return(0,u.A)(function*(){const c=(new TextEncoder).encode(o),r=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(r)).map(S=>S.toString(16).padStart(2,"0")).join("")})()}alert(o){var i=this;return(0,u.A)(function*(){yield(yield i.alertController.create({header:"AVISO",message:o,buttons:["OK"]})).present()})()}}return(s=a).\u0275fac=function(o){return new(o||s)(t.rXU(P.q9),t.rXU(n.hG),t.rXU(y.G))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-home"]],standalone:!1,decls:11,vars:5,consts:[["scroll-y","false",1,"pageLogin",3,"fullscreen"],[1,"login-container"],["src","../../assets/img/logoHcred.png","alt","Logo Hcred",1,"logoHcred"],[1,"titleLogin"],["placeholder","Usu\xe1rio ou E-mail","fill","outline",1,"custom-input",3,"ngModelChange","ngModel"],["placeholder","Senha","type","password","fill","outline",1,"custom-input",3,"ngModelChange","ngModel"],["shape","round",3,"click",4,"ngIf"],["shape","round","disabled","",4,"ngIf"],[1,"subtext"],["shape","round",3,"click"],["shape","round","disabled",""],["src","../../assets/img/loading.gif","height","24","alt","Carregando"]],template:function(o,i){1&o&&(t.j41(0,"ion-content",0)(1,"div",1),t.nrm(2,"img",2),t.j41(3,"h1",3),t.EFF(4,"Bem-vindo!"),t.k0s(),t.j41(5,"ion-input",4),t.mxI("ngModelChange",function(r){return t.DH7(i.login.usuario,r)||(i.login.usuario=r),r}),t.k0s(),t.j41(6,"ion-input",5),t.mxI("ngModelChange",function(r){return t.DH7(i.login.senha,r)||(i.login.senha=r),r}),t.k0s(),t.DNE(7,b,2,0,"ion-button",6)(8,O,2,0,"ion-button",7),t.j41(9,"p",8),t.EFF(10,"Gest\xe3o de Propostas"),t.k0s()()()),2&o&&(t.Y8G("fullscreen",!0),t.R7$(5),t.R50("ngModel",i.login.usuario),t.R7$(),t.R50("ngModel",i.login.senha),t.R7$(),t.Y8G("ngIf",!i.isLoading),t.R7$(),t.Y8G("ngIf",i.isLoading))},dependencies:[d.bT,m.BC,m.vS,n.Jm,n.W9,n.$w,n.Gw],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.pageLogin[_ngcontent-%COMP%]{--background: #004977 url(pattern-hcred-bg.8b86045725d03264.png) no-repeat center center / cover}.login-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;min-height:100vh;overflow:hidden;text-align:center}.logoHcred[_ngcontent-%COMP%]{width:150px;margin-bottom:20px}.titleLogin[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:30px}.custom-input[_ngcontent-%COMP%]{--border-color: #fff;--color: #fff;--placeholder-color: #eee;margin-bottom:20px;color:#fff}ion-button[_ngcontent-%COMP%]{--background: #de9f13;--color: #FFF;height:50px;width:40%;margin-top:10px}.subtext[_ngcontent-%COMP%]{color:#fff;margin-top:50px;font-size:1.125em}[hidden][_ngcontent-%COMP%]{display:none!important}"]}),a})()}];let _=(()=>{var s;class a{}return(s=a).\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[p.iI.forChild(v),p.iI]}),a})(),L=(()=>{var s;class a{}return(s=a).\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[d.MD,m.YN,n.bv,_]}),a})()},6480:(H,g,e)=>{e.d(g,{h:()=>n,k:()=>d});const d="b84xYQ3WZ9Lp0sVeF1aT",n="1.0"}}]);