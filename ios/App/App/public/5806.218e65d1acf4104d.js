"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5806],{3366:(C,f,s)=>{s.d(f,{G:()=>c});var u=s(7643),h=s(1360);let c=(()=>{var p;class d{constructor(t){this.http=t,this.apiHcred="https://lojas.hcred.com.br/API/",this.apiLocal="https://hcred.rpvtecnologia.com.br/API/",this.options={headers:new u.Lr({"Content-Type":"application/json; charset=UTF-8"}),responseType:"json"}}buscaBanks(t){return this.http.post(`${this.apiHcred}selectBanks.php`,JSON.stringify(t),this.options)}buscaContas(t){return this.http.post(`${this.apiHcred}listarConta.php`,JSON.stringify(t),this.options)}buscaContasAll(t){return this.http.post(`${this.apiHcred}listarContaAll.php`,JSON.stringify(t),this.options)}buscaGerente(t){return this.http.post(`${this.apiHcred}listarGerente.php`,JSON.stringify(t),this.options)}buscaColab(t){return this.http.post(`${this.apiHcred}listarColab.php`,JSON.stringify(t),this.options)}buscaPropsAll(t){return this.http.post(`${this.apiHcred}selectPropsAll.php`,JSON.stringify(t),this.options)}buscaPropsFilter(t){return this.http.post(`${this.apiHcred}selectPropsFilter.php`,JSON.stringify(t),this.options)}buscaPropsProv(t){return this.http.post(`${this.apiHcred}selectProps.php`,JSON.stringify(t),this.options)}buscaPropsRelatorios(t){return this.http.post(`${this.apiHcred}listarRelatorios.php`,JSON.stringify(t),this.options)}buscaPropsStatus(t){return this.http.post(`${this.apiHcred}listarPropsStatus.php`,JSON.stringify(t),this.options)}buscaTabelas(t){return this.http.post(`${this.apiHcred}selectTabela.php`,JSON.stringify(t),this.options)}buscaTipo(t){return this.http.post(`${this.apiHcred}selectTipo.php`,JSON.stringify(t),this.options)}cadPropsView(t){return this.http.post(`${this.apiHcred}cad_propsView.php`,JSON.stringify(t),this.options)}cadProposta(t){return this.http.post(`${this.apiHcred}cadProposta.php`,JSON.stringify(t),this.options)}consultaCPF(t){return this.http.post(`${this.apiHcred}consultaCPF.php`,JSON.stringify(t),this.options)}countProps(t){return this.http.post(`${this.apiHcred}countProps.php`,JSON.stringify(t),this.options)}criaCards(t){return this.http.post(`${this.apiHcred}selectTabelaCartao.php`,JSON.stringify(t),this.options)}criaParcelas(t){return this.http.post(`${this.apiHcred}criarParcelas.php`,JSON.stringify(t),this.options)}deletePropsView(t){return this.http.post(`${this.apiHcred}delete_propsView.php`,JSON.stringify(t),this.options)}enviarDadosAlteracao(t){return this.http.post(`${this.apiHcred}alterarProposta.php`,JSON.stringify(t),this.options)}gerarLink(t){return this.http.post(`${this.apiHcred}cad_session.php`,JSON.stringify(t),this.options)}listarContrato(t){return this.http.post(`${this.apiHcred}listarContrato.php`,JSON.stringify(t),this.options)}listarOperadoras(t){return this.http.post(`${this.apiHcred}listarOperadoras.php`,JSON.stringify(t),this.options)}listarSaldo(t){return this.http.post(`${this.apiHcred}listarSaldo.php`,JSON.stringify(t),this.options)}loginApp(t){return this.http.post(`${this.apiHcred}logar.php`,JSON.stringify(t),this.options)}sacar(t){return this.http.post(`${this.apiHcred}sacar.php`,JSON.stringify(t),this.options)}S3Upload(t){return this.http.post(`${this.apiHcred}S3Upload.php`,t)}validarBoleto(t){return this.http.post(`${this.apiHcred}validarBoleto.php`,JSON.stringify(t),this.options)}verificarPropsView(t){return this.http.post(`${this.apiHcred}verificarPropsView.php`,JSON.stringify(t),this.options)}}return(p=d).\u0275fac=function(t){return new(t||p)(h.KVO(u.Qq))},p.\u0275prov=h.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),d})()},5806:(C,f,s)=>{s.r(f),s.d(f,{RelatoriosPageModule:()=>T});var u=s(2881),h=s(4341),c=s(9420),p=s(5207),d=s(467),_=s(6480),t=s(1360),b=s(5032),F=s(3366),S=s(9260);function O(i,l){if(1&i&&(t.j41(0,"ion-select-option",17),t.EFF(1),t.k0s()),2&i){const n=l.$implicit;t.Y8G("value",n.value),t.R7$(),t.JRh(n.title)}}function R(i,l){if(1&i&&(t.j41(0,"ion-select-option",17),t.EFF(1),t.k0s()),2&i){const n=l.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function M(i,l){if(1&i&&(t.j41(0,"ion-select-option",17),t.EFF(1),t.k0s()),2&i){const n=l.$implicit;t.Y8G("value",n.idUser),t.R7$(),t.JRh(n.nomeUsuario)}}function I(i,l){if(1&i){const n=t.RV6();t.j41(0,"ion-select",18),t.bIt("ionChange",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.consultarColab())}),t.mxI("ngModelChange",function(o){t.eBV(n);const e=t.XpG();return t.DH7(e.gerenteSelecionado,o)||(e.gerenteSelecionado=o),t.Njj(o)}),t.DNE(1,M,2,2,"ion-select-option",8),t.k0s()}if(2&i){const n=t.XpG();t.R50("ngModel",n.gerenteSelecionado),t.R7$(),t.Y8G("ngForOf",n.gerentes)}}function E(i,l){if(1&i&&(t.j41(0,"ion-select-option",17),t.EFF(1),t.k0s()),2&i){const n=l.$implicit;t.Y8G("value",n.idUser),t.R7$(),t.JRh(n.nomeUsuario)}}function x(i,l){if(1&i){const n=t.RV6();t.j41(0,"ion-select",19),t.mxI("ngModelChange",function(o){t.eBV(n);const e=t.XpG();return t.DH7(e.colabSelecionado,o)||(e.colabSelecionado=o),t.Njj(o)}),t.DNE(1,E,2,2,"ion-select-option",8),t.k0s()}if(2&i){const n=t.XpG();t.R50("ngModel",n.colabSelecionado),t.R7$(),t.Y8G("ngForOf",n.colaboradores)}}function y(i,l){if(1&i&&(t.j41(0,"ion-card",22)(1,"ion-card-content")(2,"p")(3,"strong"),t.EFF(4,"Data:"),t.k0s(),t.EFF(5),t.k0s(),t.j41(6,"p")(7,"strong"),t.EFF(8,"Status:"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"p")(11,"strong"),t.EFF(12,"Tipo:"),t.k0s(),t.EFF(13),t.k0s(),t.j41(14,"p")(15,"strong"),t.EFF(16,"Nome:"),t.k0s(),t.EFF(17),t.k0s(),t.j41(18,"p")(19,"strong"),t.EFF(20,"Valor Financiado:"),t.k0s(),t.EFF(21),t.k0s(),t.j41(22,"p")(23,"strong"),t.EFF(24,"Valor Total:"),t.k0s(),t.EFF(25),t.k0s(),t.j41(26,"p")(27,"strong"),t.EFF(28,"Valor Parcela:"),t.k0s(),t.EFF(29),t.k0s(),t.j41(30,"p")(31,"strong"),t.EFF(32,"Prazo:"),t.k0s(),t.EFF(33),t.k0s(),t.j41(34,"p")(35,"strong"),t.EFF(36,"Gerente:"),t.k0s(),t.EFF(37),t.k0s()()()),2&i){const n=l.$implicit;t.R7$(5),t.SpI(" ",n.dataPropostaBr,""),t.R7$(4),t.SpI(" ",n.estatus.charAt(0).toUpperCase()+n.estatus.slice(1).toLowerCase(),""),t.R7$(4),t.SpI(" ",n.tipo,""),t.R7$(4),t.SpI(" ",n.nome,""),t.R7$(4),t.SpI(" R$ ",n.valorFinanciado,""),t.R7$(4),t.SpI(" R$ ",n.valorTotal,""),t.R7$(4),t.SpI(" R$ ",n.valorPacela,""),t.R7$(4),t.SpI(" ",n.quantPrestacoes,"x"),t.R7$(4),t.SpI(" ",n.gerente,"")}}function k(i,l){if(1&i&&(t.j41(0,"div",20)(1,"h1"),t.EFF(2,"Resultados da Pesquisa"),t.k0s(),t.DNE(3,y,38,9,"ion-card",21),t.k0s()),2&i){const n=t.XpG();t.R7$(3),t.Y8G("ngForOf",n.propostas)}}const $=[{path:"",component:(()=>{var i;class l{constructor(a,o,e,r,g){this.navCtrl=a,this.alertController=o,this.apiService=e,this.navigationService=r,this.loadingController=g,this.dataInicial="",this.dataInicialExibicao="",this.dataFinal="",this.dataFinalExibicao="",this.tipoOperacao="",this.statusSelecionado="",this.gerenteSelecionado="",this.colabSelecionado="",this.propostas=[],this.gerentes=[],this.colaboradores=[],this.tiposDisponiveis=[],this.tipoUser=localStorage.getItem("tipoLogado"),this.options=[{value:"nova",title:"Novas"},{value:"em analise",title:"Em An\xe1lise"},{value:"pendente",title:"Pendentes"},{value:"negociac\xe3o",title:"Negocia\xe7\xf5es"},{value:"link",title:"Link Enviado"},{value:"assinatura",title:"Assinatura"},{value:"aprovada",title:"Aprovadas"},{value:"devolvidas",title:"Devolvidas"},{value:"paga",title:"Pagas"},{value:"finalizadas",title:"Finalizadas"},{value:"reprovada",title:"Reprovadas"},{value:"cancelada",title:"Canceladas"},{value:"contesta\xe7\xe3o",title:"Contesta\xe7\xe3o"}]}ngOnInit(){"Gerente"!==localStorage.getItem("tipoLogado")&&this.consultarGerente(),this.consultarTipo()}consultarTipo(){var a=this;return(0,d.A)(function*(){const o={auth_hash:_.k,idFranqueado:localStorage.getItem("idFranqueado"),idUser:localStorage.getItem("idLogado")};a.apiService.buscaTipo(o).subscribe({next:e=>{"erro"===e.estatus?a.alert(e.mensagem):a.tiposDisponiveis=e.resultado},error:()=>{a.alert("Erro na conex\xe3o.")}})})()}mascararData(a,o){let e=a.target.value;e=e.replace(/\D/g,""),e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"/"+e.slice(5,9)),e.length>10&&(e=e.slice(0,10)),a.target.value=e,"dataInicial"===o?(this.dataInicialExibicao=e,this.dataInicial=this.converterParaISO(e)||""):"dataFinal"===o&&(this.dataFinalExibicao=e,this.dataFinal=this.converterParaISO(e)||"")}converterParaISO(a){const o=a.split("/");if(3===o.length){const[e,r,g]=o;if(2===e.length&&2===r.length&&4===g.length&&this.validaData(e,r,g))return`${g}-${r}-${e}`}return null}validaData(a,o,e){const r=parseInt(a,10),g=parseInt(o,10),m=parseInt(e,10);return!(m<1900||m>2100||g<1||g>12||r<1||r>31)&&!(r>[31,m%4==0?29:28,31,30,31,30,31,31,30,31,30,31][g-1])}consultarGerente(){var a=this;return(0,d.A)(function*(){const o={auth_hash:_.k,idFranqueado:localStorage.getItem("idFranqueado")};a.apiService.buscaGerente(o).subscribe({next:e=>{"erro"===e.estatus?alert(e.mensagem):a.gerentes=e.resultadoGerente},error:()=>{alert("Erro na conex\xe3o.")}})})()}consultarColab(){var a=this;return(0,d.A)(function*(){const o={auth_hash:_.k,idGerente:a.gerenteSelecionado,idFranqueado:localStorage.getItem("idFranqueado")};a.apiService.buscaColab(o).subscribe({next:e=>{"erro"===e.estatus?alert(e.mensagem):a.colaboradores=e.resultadoColab},error:()=>{alert("Erro na conex\xe3o.")}})})()}consultarProps(){var a=this;return(0,d.A)(function*(){if(!(a.dataInicial&&a.dataFinal&&a.statusSelecionado&&a.tipoOperacao))return void alert("Preencha todos os campos obrigat\xf3rios.");const o=new Date(a.dataInicial),e=new Date(a.dataFinal);if(e<o)return void alert("A data final n\xe3o pode ser anterior \xe0 data inicial.");if((e.getTime()-o.getTime())/864e5>30)return void alert("O intervalo entre as datas n\xe3o pode ser superior a 30 dias.");const g=yield a.loadingController.create({message:"Carregando...",spinner:"crescent"});yield g.present();const m={auth_hash:_.k,dataInicio:a.dataInicial,dataFinal:a.dataFinal,status:a.statusSelecionado,idGerente:a.gerenteSelecionado,idColaborador:a.colabSelecionado,idFranqueado:localStorage.getItem("idFranqueado"),tipoOperacao:a.tipoOperacao};var P;a.apiService.buscaPropsRelatorios(m).subscribe({next:(P=(0,d.A)(function*(v){yield g.dismiss(),"erro"===v.estatus?alert(v.mensagem):a.propostas=v.resultadoProp}),function(H){return P.apply(this,arguments)}),error:function(){var P=(0,d.A)(function*(){yield g.dismiss(),alert("Erro na conex\xe3o.")});return function(){return P.apply(this,arguments)}}()})})()}clear(){this.dataInicialExibicao="",this.dataInicial="",this.dataFinalExibicao="",this.dataFinal="",this.tipoOperacao="",this.statusSelecionado="",this.gerenteSelecionado="",this.colabSelecionado="",this.propostas=[]}navigation(a,o,e){this.navigationService.navigate(a,o||"",e||"")}alert(a){var o=this;return(0,d.A)(function*(){yield(yield o.alertController.create({header:"AVISO",message:a,buttons:["OK"]})).present()})()}}return(i=l).\u0275fac=function(a){return new(a||i)(t.rXU(b.q9),t.rXU(c.hG),t.rXU(F.G),t.rXU(S.o),t.rXU(c.Xi))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-relatorios"]],standalone:!1,decls:24,vars:10,consts:[[1,"pageRelatorios",3,"fullscreen"],[1,"topo-relatorios"],["name","chevron-back-outline",1,"icone-voltar",3,"click"],["src","../../assets/img/logoHcred-mobile.png","alt","Logo",1,"logo-relatorios"],[1,"form"],["placeholder","dd/mm/aaaa","maxlength","10","label","Data Inicial","label-placement","stacked",3,"ngModelChange","ionInput","ngModel"],["placeholder","dd/mm/aaaa","maxlength","10","label","Data Final","label-placement","stacked",3,"ngModelChange","ionInput","ngModel"],["label","Status da Opera\xe7\xe3o","label-placement","floating","fill","outline",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["label","Tipo da Opera\xe7\xe3o","label-placement","floating","fill","outline",3,"ngModelChange","ngModel"],["label","Selecione o Gerente","label-placement","floating","fill","outline",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["label","Selecione o Colaborador","label-placement","floating","fill","outline",3,"ngModel","ngModelChange",4,"ngIf"],[1,"buttons-form"],[3,"click"],["slot","start","name","search-outline"],["slot","start","name","trash-outline"],["class","table-container",4,"ngIf"],[3,"value"],["label","Selecione o Gerente","label-placement","floating","fill","outline",3,"ionChange","ngModelChange","ngModel"],["label","Selecione o Colaborador","label-placement","floating","fill","outline",3,"ngModelChange","ngModel"],[1,"table-container"],["class","relatorios-card",4,"ngFor","ngForOf"],[1,"relatorios-card"]],template:function(a,o){1&a&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"ion-icon",2),t.bIt("click",function(){return o.navigation("index")}),t.k0s(),t.j41(3,"h1"),t.EFF(4,"Relat\xf3rios"),t.k0s(),t.nrm(5,"img",3),t.k0s(),t.j41(6,"main")(7,"div",4)(8,"ion-input",5),t.mxI("ngModelChange",function(r){return t.DH7(o.dataInicialExibicao,r)||(o.dataInicialExibicao=r),r}),t.bIt("ionInput",function(r){return o.mascararData(r,"dataInicial")}),t.k0s(),t.j41(9,"ion-input",6),t.mxI("ngModelChange",function(r){return t.DH7(o.dataFinalExibicao,r)||(o.dataFinalExibicao=r),r}),t.bIt("ionInput",function(r){return o.mascararData(r,"dataFinal")}),t.k0s(),t.j41(10,"ion-select",7),t.mxI("ngModelChange",function(r){return t.DH7(o.statusSelecionado,r)||(o.statusSelecionado=r),r}),t.DNE(11,O,2,2,"ion-select-option",8),t.k0s(),t.j41(12,"ion-select",9),t.mxI("ngModelChange",function(r){return t.DH7(o.tipoOperacao,r)||(o.tipoOperacao=r),r}),t.DNE(13,R,2,2,"ion-select-option",8),t.k0s(),t.DNE(14,I,2,2,"ion-select",10)(15,x,2,2,"ion-select",11),t.j41(16,"div",12)(17,"ion-button",13),t.bIt("click",function(){return o.consultarProps()}),t.nrm(18,"ion-icon",14),t.EFF(19,"Buscar"),t.k0s(),t.j41(20,"ion-button",13),t.bIt("click",function(){return o.clear()}),t.nrm(21,"ion-icon",15),t.EFF(22,"Limpar"),t.k0s()()(),t.DNE(23,k,4,1,"div",16),t.k0s()()),2&a&&(t.Y8G("fullscreen",!0),t.R7$(8),t.R50("ngModel",o.dataInicialExibicao),t.R7$(),t.R50("ngModel",o.dataFinalExibicao),t.R7$(),t.R50("ngModel",o.statusSelecionado),t.R7$(),t.Y8G("ngForOf",o.options),t.R7$(),t.R50("ngModel",o.tipoOperacao),t.R7$(),t.Y8G("ngForOf",o.tiposDisponiveis),t.R7$(),t.Y8G("ngIf","Gerente"!==o.tipoUser),t.R7$(),t.Y8G("ngIf",o.colaboradores.length>0),t.R7$(8),t.Y8G("ngIf",o.propostas.length>0))},dependencies:[u.Sq,u.bT,h.BC,h.tU,h.vS,c.Jm,c.b_,c.I9,c.W9,c.iq,c.$w,c.Nm,c.Ip,c.Je,c.Gw],styles:[".pageRelatorios[_ngcontent-%COMP%]{--background: #efeef4}.topo-relatorios[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative;padding:20px 20px 0;background:#004977 url(pattern-hcred-bg.8b86045725d03264.png) no-repeat center center/cover;height:70px;color:#fff}.topo-relatorios[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);margin:0;font-size:1.2em}.icone-voltar[_ngcontent-%COMP%]{font-size:1.5em}.logo-relatorios[_ngcontent-%COMP%]{height:50px;width:50px}.form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;background:#fff;padding:20px;margin:20px 15px;border-radius:10px;flex-wrap:wrap}.form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex:1 1 140px;--color: #004977}.form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: transparent;--color: #004977;--highlight-color-valid: #004977;--highlight-color: #004977;font-size:16px}.form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#004977}.form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]   .native-input[_ngcontent-%COMP%]{padding:10px 0}.form[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--background: #FFF;--border-color: #004977;--border-radius: 10px;width:100%}ion-select[_ngcontent-%COMP%]::part(label){color:#004977}ion-select[_ngcontent-%COMP%]::part(text){color:#004977}ion-select[_ngcontent-%COMP%]::part(icon){color:#004977;opacity:1}.form[_ngcontent-%COMP%]   .buttons-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: #004977;color:#fff;font-size:15px;padding:10px;--border-radius: 10px;--padding-top: 15px;--padding-bottom: 15px;--padding-start: 1.5em;--padding-end: 1.5em}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;padding:10px 20px;margin:20px 15px;border-radius:10px;flex-wrap:wrap}.table-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#004977;text-align:center;margin:30px 0}.table-container[_ngcontent-%COMP%]   .relatorios-card[_ngcontent-%COMP%]{--background: transparent;box-shadow:none;border-radius:10px;border:2px solid #004977}.relatorios-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:#004977}"]}),l})()},{path:"finalizadas",loadChildren:()=>s.e(3885).then(s.bind(s,3885)).then(i=>i.FinalizadasPageModule)}];let N=(()=>{var i;class l{}return(i=l).\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[p.iI.forChild($),p.iI]}),l})(),T=(()=>{var i;class l{}return(i=l).\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[u.MD,h.YN,c.bv,N]}),l})()},6480:(C,f,s)=>{s.d(f,{h:()=>h,k:()=>u});const u="b84xYQ3WZ9Lp0sVeF1aT",h="1.0"},9260:(C,f,s)=>{s.d(f,{o:()=>c});var u=s(1360),h=s(5032);let c=(()=>{var p;class d{constructor(t){this.navCtrl=t}navigate(t,b,F){"propostas"===t&&void 0!==b?localStorage.setItem("estatus",b):"propostas/atuar-proposta"===t&&void 0!==F&&localStorage.setItem("idProposta",F),this.navCtrl.navigateRoot(t)}}return(p=d).\u0275fac=function(t){return new(t||p)(u.KVO(h.q9))},p.\u0275prov=u.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),d})()}}]);